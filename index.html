<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>Flashcards â€“ English â†” EspaÃ±ol</title>
<style>
  :root {
    --bg:#0f172a; --card:#111827; --ink:#e5e7eb; --muted:#9ca3af; --accent:#4f46e5; --accent-2:#2563eb;
  }
  * { box-sizing: border-box; }
  body {
    margin:0; padding:16px; background:linear-gradient(135deg,#0b1220,#1f2937);
    color:var(--ink); font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, "Noto Sans", "Helvetica Neue", sans-serif;
    min-height:100svh; display:grid; place-items:center;
  }
  .wrap { width:min(720px,100%); display:flex; flex-direction:column; gap:16px; }
  header { text-align:center; }
  header h1 { font-size:20px; margin:4px 0; font-weight:700; letter-spacing:.2px; }
  header p { margin:0; font-size:13px; color:var(--muted); }
  #card {
    background:var(--card); border-radius:16px; padding:28px; box-shadow: 0 10px 30px rgba(0,0,0,.45);
    text-align:center; min-height:180px; display:flex; align-items:center; justify-content:center;
    user-select:none; -webkit-user-select:none; touch-action:manipulation;
  }
  #word { font-size: clamp(22px, 4.5vw, 34px); line-height:1.25; }
  .sub { margin-top:8px; font-size:13px; color:var(--muted); }
  .row { display:flex; gap:8px; flex-wrap:wrap; }
  button {
    flex:1 1 auto; min-width:120px;
    padding:14px 16px; border:none; border-radius:12px; color:white; background:var(--accent);
    font-size:16px; font-weight:600; letter-spacing:.2px; cursor:pointer; touch-action:manipulation;
  }
  button:active { transform: translateY(1px); }
  .ghost { background:#374151; }
  .alt { background:var(--accent-2); }
  .bar { display:flex; align-items:center; gap:8px; justify-content:space-between; color:var(--muted); font-size:13px; }
  .progress { height:8px; background:#1f2937; border-radius:999px; overflow:hidden; flex:1; }
  .progress > div { height:100%; background:linear-gradient(90deg,#22c55e,#06b6d4); width:0%; }
  footer { text-align:center; font-size:12px; color:var(--muted); }
  a { color:#93c5fd; }
</style>
</head>
<body>
<div class="wrap">
  <header>
    <h1>Flashcards â€“ English â†” EspaÃ±ol</h1>
    <p>Tap the card to flip. Use buttons or swipe left/right.</p>
  </header>

  <div id="card" role="button" aria-label="Flashcard â€“ tap to flip">
    <div id="word">Loadingâ€¦</div>
  </div>
  <div class="sub" id="sub">Front: English â€¢ Back: EspaÃ±ol</div>

  <div class="bar">
    <span id="count">0 / 0</span>
    <div class="progress"><div id="prog"></div></div>
  </div>

  <div class="row">
    <button class="ghost" onclick="prevCard()" aria-label="Previous">âŸ¨ Prev</button>
    <button onclick="flipCard()" aria-label="Flip">Flip â†»</button>
    <button class="alt" onclick="nextCard()" aria-label="Next">Next âŸ©</button>
  </div>
  <div class="row">
    <button onclick="shuffleCards()">Shuffle ðŸ”€</button>
    <button onclick="toggleFront()">Reverse (Show EspaÃ±ol first)</button>
    <button class="ghost" onclick="resetOrder()">Reset â†º</button>
  </div>

  <footer>
    <div>Works fully offline when opened in Safari. Add to Home Screen for appâ€‘like use.</div>
  </footer>
</div>

<script>
  // The master deck (English â†’ EspaÃ±ol). Duplicates kept if present in the list.
  const baseCards = [
    ["Clown","Payaso"],["Balloon","Globo"],["Sewer","Alcantarilla"],
    ["Fear","Miedo"],["Children","NiÃ±os"],["Losersâ€™ Club","El Club de los Perdedores"],
    ["Friendship","Amistad"],["Monster","Monstruo"],["Nightmare","Pesadilla"],
    ["dream","sueÃ±o"],["Blood","Sangre"],["Death","Muerte"],
    ["Courage","ValentÃ­a"],["Darkness","Oscuridad"],["Brotherhood","Hermandad"],
    ["Curse","MaldiciÃ³n"],["Disappearance","DesapariciÃ³n"],["Floating","Flotar"],
    ["Drain","DesagÃ¼e"],["Storm","Tormenta"],["Spider","AraÃ±a"],
    ["Laughter","Risa"],["Scream","Grito"],["Float","Flotar"],
    ["Youâ€™ll float too","TÃº tambiÃ©n flotarÃ¡s"],["Missing","Desaparecido"],
    ["Underground","SubterrÃ¡neo"],["padlock","candado"],["clue","pista"],
    ["key","llave"],["combination","combinaciÃ³n"],["riddle","puzzle / acertijo"],
    ["code","cÃ³digo"],["enigma","enigma"],["door","puerta"],
    ["lock","cerradura"],["to hide","esconder"],["to discover","descubrir"],
    ["secret","secreto"],["maze / labyrinth","laberinto"],["mirror","espejo"],
    ["reflection","reflejo"],["labyrinth","laberinto"],["corridor","pasillo"],
    ["stairway","escalera"],["basement","sÃ³tano"],["attic","desvÃ¡n"],
    ["mechanism","mecanismo"],["lever","palanca"],["button","botÃ³n"],
    ["switch","interruptor"],["drawer","cajÃ³n"],["chest / trunk","cofre / baÃºl"],
    ["rope","cuerda"],["chain","cadena"],["symbol","sÃ­mbolo"],
    ["number","nÃºmero"],["letter","letra"],["word","palabra"],
    ["phrase","frase"],["light","luz"],["candle","vela"],
    ["clock","reloj"],["time","tiempo"],["map","mapa"],["hidden","oculto"],
    ["safe","caja fuerte"],["message","mensaje"],["password","contraseÃ±a"],
    ["puzzle piece","pieza de rompecabezas"],["board","tablero"],["pattern","patrÃ³n"],
    ["sequence","secuencia"],["sound","sonido"],["noise","ruido"],
    ["painting","cuadro"],["photograph","fotografÃ­a"],["drawer","cajÃ³n"]
  ];

  // State
  let cards = baseCards.slice();
  let index = 0;
  let showingFront = true;     // true => show front; false => show back
  let englishFirst = true;     // front language (true: English, false: EspaÃ±ol)

  const wordEl = document.getElementById('word');
  const countEl = document.getElementById('count');
  const progEl = document.getElementById('prog');
  const subEl = document.getElementById('sub');
  const cardEl = document.getElementById('card');

  // Initialize
  function init() {
    index = 0; showingFront = true;
    syncSub();
    showCard();
    setupGestures();
  }

  function syncSub() {
    subEl.textContent = englishFirst ? "Front: English â€¢ Back: EspaÃ±ol" : "Front: EspaÃ±ol â€¢ Back: English";
  }

  function currentText() {
    if (!cards.length) return "No cards";
    const pair = cards[index];
    if (showingFront) return englishFirst ? pair[0] : pair[1];
    return englishFirst ? pair[1] : pair[0];
  }

  function showCard() {
    wordEl.textContent = currentText();
    countEl.textContent = (cards.length ? (index+1) : 0) + " / " + cards.length;
    const pct = cards.length ? ((index+1)/cards.length)*100 : 0;
    progEl.style.width = pct + "%";
  }

  function flipCard() { showingFront = !showingFront; showCard(); }
  function nextCard() { index = (index + 1) % cards.length; showingFront = true; showCard(); }
  function prevCard() { index = (index - 1 + cards.length) % cards.length; showingFront = true; showCard(); }

  function shuffleCards() {
    for (let i = cards.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [cards[i], cards[j]] = [cards[j], cards[i]];
    }
    index = 0; showingFront = true; showCard();
  }
  function resetOrder() { cards = baseCards.slice(); index = 0; showingFront = true; showCard(); }
  function toggleFront() { englishFirst = !englishFirst; showingFront = true; syncSub(); showCard(); }

  // Swipe gestures (mobile-friendly)
  function setupGestures() {
    let startX = null;
    cardEl.addEventListener('touchstart', (e) => { startX = e.touches[0].clientX; }, {passive:true});
    cardEl.addEventListener('touchend', (e) => {
      if (startX === null) return;
      const endX = e.changedTouches[0].clientX;
      const dx = endX - startX;
      if (Math.abs(dx) < 40) { flipCard(); } // small move â†’ flip
      else if (dx < 0) { nextCard(); } // swipe left
      else { prevCard(); }             // swipe right
      startX = null;
    }, {passive:true});
    // Also allow click/tap to flip
    cardEl.addEventListener('click', flipCard);
  }

  // Start
  window.addEventListener('DOMContentLoaded', init);
</script>
</body>
</html>
